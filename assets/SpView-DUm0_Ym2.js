import{c as n,o as a,e as b,a as t,t as l,F as h,g as M,f as H,u as x,i as $,h as D,n as B,r as v,j as g,k as f,l as A,d as V,m as q,p as y,q as G}from"./index-gWOIJQbz.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"card h-100"},j=["src"],R={class:"card-body"},T={class:"card-title"},U={class:"card-text"},W={class:"fw-bold text-primary"},Y=["onClick"],P={__name:"ProductList",props:["products"],emits:["add-to-cart"],setup(d,{emit:c}){const i=c;return(p,u)=>(a(!0),n(h,null,b(d.products,e=>(a(),n("div",{class:"col-md-4 mb-4",key:e.id},[t("div",L,[t("img",{src:e.imgURL,class:"card-img-top"},null,8,j),t("div",R,[t("h5",T,l(e.title),1),t("p",U,l(e.content),1),t("p",W,"$ "+l(e.price),1),t("button",{class:"btn btn-success w-100",onClick:r=>i("add-to-cart",e)}," 加入購物車 ",8,Y)])])]))),128))}},z={class:"list-group mb-3"},F={class:"my-0"},S={class:"text-muted"},E={class:"text-muted"},J=["onClick"],K={class:"total"},O={__name:"CartList",props:{carts:Array},emits:["remove-to-cart"],setup(d,{emit:c}){const i=c,p=d,{carts:u}=M(p),e=H(()=>u.value.reduce((r,m)=>r+m.price*m.quantity,0));return(r,m)=>(a(),n(h,null,[t("ul",z,[(a(!0),n(h,null,b(x(u),s=>(a(),n("li",{class:"list-group-item d-flex justify-content-between align-items-center",key:s.id},[t("div",null,[t("h6",F,l(s.title),1),t("small",S,"數量："+l(s.quantity),1)]),t("div",null,[t("span",E,"$"+l(s.price),1),t("button",{class:"btn btn-sm btn-outline-danger ms-2",onClick:o=>i("remove-to-cart",s)}," 移除 ",8,J)])]))),128))]),t("div",null,[t("div",K,"總價："+l(e.value)+" 元",1)])],64))}},Q={key:0,class:"position-fixed top-0 end-0 p-3",style:{"z-index":"1050"}},X={class:"d-flex"},Z={class:"toast-body"},I=["onClick"],tt={__name:"Notification",setup(d){const c=$("notifications"),i=$("removeNotification");return(p,u)=>x(c).length?(a(),n("div",Q,[(a(!0),n(h,null,b(x(c),e=>(a(),n("div",{key:e.id,class:B(["toast show align-items-center border-0",`text-white bg-${e.type}`])},[t("div",X,[t("div",Z,l(e.message),1),t("button",{onClick:r=>x(i)(e.id),type:"button",class:"btn-close btn-close-white me-2 m-auto"},null,8,I)])],2))),128))])):D("",!0)}},st={id:"app",class:"container py-4"},et={class:"row"},ot={class:"col-md-8"},it={class:"row"},at={class:"col-md-4"},nt={key:0,class:"text-danger"},ct={__name:"CartView",setup(d){const c=v([{id:1,imgURL:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?q=80&amp;w=2065&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"耳罩式藍牙耳機",content:"舒適配戴，支援降噪技術",price:2490},{id:2,imgURL:"https://images.unsplash.com/photo-1524678606370-a47ad25cb82a?q=80&w=1469&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"耳罩式彩虹耳機",content:"舒適配戴，支援降噪技術",price:1399},{id:3,imgURL:"https://images.unsplash.com/photo-1636099184052-ada1f331132c?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"時尚藍芽耳機",content:"舒適配戴，支援降噪技術",price:6599},{id:4,imgURL:"https://images.unsplash.com/photo-1672292086075-aa75f03ed2a8?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"機械式鍵盤",content:"機械鍵盤，打字手感極佳",price:1399},{id:5,imgURL:"https://images.unsplash.com/photo-1586349906319-48d20e9d17e5?q=80&w=1471&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"無線滑鼠",content:"靜音按鈕設計，長效電池",price:799}]),i=v([]),p=s=>{const o=i.value.find(_=>_.id===s.id);o?(o.quantity+=1,r(`購物車數量 +1：${s.title}`,"success")):(i.value.push({...s,quantity:1}),r(`已加入購物車：${s.title}`,"success"))},u=s=>{i.value=i.value.filter(o=>o.id!==s.id),r(`已移除商品：${s.title}`,"secondary")},e=v([]),r=(s,o="success")=>{const _=new Date().getTime();e.value.push({id:_,message:s,type:o}),setTimeout(()=>m(_),2500)},m=s=>{e.value=e.value.filter(o=>o.id!==s)};return y("removeNotification",m),y("notifications",e),(s,o)=>{const _=g("router-link"),k=g("primeMenbar");return a(),n(h,null,[t("div",st,[t("div",et,[t("div",ot,[o[0]||(o[0]=t("h2",{class:"mb-3"},"商品列表",-1)),t("div",it,[f(P,{products:c.value,onAddToCart:p},null,8,["products"])])]),t("div",at,[o[1]||(o[1]=t("h2",{class:"mb-3"},"購物車",-1)),i.value.length===0?(a(),n("div",nt,"還沒加入商品喔!")):D("",!0),f(O,{carts:i.value,onRemoveToCart:u},null,8,["carts"])])]),f(tt)]),f(k,{model:s.items},{item:A(({item:w,props:C})=>[f(_,q({to:w.route},C.action),null,16,["to"]),V(" "+l(w.label),1)]),_:1},8,["model"])],64)}}},lt=N(ct,[["__scopeId","data-v-0d476c9d"]]),ut={__name:"SpView",setup(d){return(c,i)=>(a(),G(lt))}};export{ut as default};
