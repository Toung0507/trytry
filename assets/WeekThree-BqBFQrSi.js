import{c as l,a,F as m,e as h,b as e,t as o,h as U,d as y,r as _,f as V,o as D,j as w,w as $,q as g}from"./index-D1GAt18-.js";const N={class:"list-group"},P=["onClick"],S={class:"d-flex w-100 justify-content-between"},j={class:"mb-1"},B={class:"mb-1"},F={__name:"DrinkList",props:["data"],emits:["addItem"],setup(v,{emit:u}){const d=u;return(i,b)=>(a(),l("div",N,[(a(!0),l(m,null,h(v.data,p=>(a(),l("a",{"href.prevent":"#",class:"list-group-item list-group-item-action",key:p.id,onClick:f=>d("addItem",p)},[e("div",S,[e("h5",j,o(p.name),1),e("small",null,"$"+o(p.price),1)]),e("p",B,o(p.description),1)],8,P))),128))]))}},L={key:0,class:"row justify-content-center"},M={class:"col-8"},O={class:"card"},Q={class:"card-body"},q={class:"card-title"},A={class:"table"},E={class:"text-end"},W={__name:"DrinkOrder",props:["order"],setup(v){return(u,d)=>v.order.drinks.length>0?(a(),l("div",L,[e("div",M,[e("div",O,[e("div",Q,[e("div",q,[d[2]||(d[2]=e("h5",null,"訂單",-1)),e("table",A,[d[0]||(d[0]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計"),e("th",{scope:"col"},"備註")])],-1)),e("tbody",null,[(a(!0),l(m,null,h(v.order.drinks,i=>(a(),l("tr",{key:i.id},[e("td",null,o(i.name),1),e("td",null,o(i.amount),1),e("td",null,o(i.subTotal),1),e("td",null,[e("span",null,o(i.note),1)])]))),128))])]),e("div",E,[e("h5",null,[d[1]||(d[1]=y("總計: ",-1)),e("span",null,"$"+o(v.order.totalPrice),1)])])])])])])])):U("",!0)}},z={class:"container mt-5"},G={class:"row"},H={class:"col-md-4"},J={class:"col-md-8"},K={key:0},R={class:"table"},X=["onClick"],Y=["onUpdate:modelValue"],Z=["value"],ee={colspan:"6"},te=["onUpdate:modelValue","onChange"],se=["onUpdate:modelValue","onChange"],oe={class:"text-end mb-3"},ne={key:1,class:"alert alert-success"},ae={__name:"WeekThree",setup(v){const u=_({drinks:[],note:"",totalPrice:0}),d=_(""),i=()=>{u.value.drinks=c.value,u.value.note=d.value,u.value.totalPrice=V(()=>u.value.drinks.reduce((s,t)=>s+t.subTotal,0)),c.value=[],d.value=""},b=_(0);b.value=V(()=>c.value.reduce((s,t)=>s+t.subTotal,0));const p=s=>{c.value[s].note+=c.value[s].ice+" | "},f=s=>{c.value[s].note+=c.value[s].sugar+" | "},T=s=>(s.subTotal=s.amount*s.price,s.amount*s.price),I=s=>{c.value.splice(s,1)},c=_([]),x=s=>{const t={...s,amount:1,subTotal:0,note:"",ice:"",sugar:""};t.subTotal=(t.amount,t.price),c.value.push(t)},C=_([]);return D(()=>{C.value=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]}),(s,t)=>(a(),l("div",z,[e("div",G,[e("div",H,[w(F,{data:C.value,onAddItem:x},null,8,["data"])]),e("div",J,[c.value.length>0?(a(),l("div",K,[e("table",R,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",{scope:"col",width:"50"},"操作"),e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計")])],-1)),e("tbody",null,[(a(!0),l(m,null,h(c.value,(r,k)=>(a(),l(m,{key:r.id},[e("tr",null,[e("td",null,[e("button",{type:"button",class:"btn btn-sm",onClick:n=>I(k)},"x",8,X)]),e("td",null,o(r.name),1),e("td",null,[e("small",null,o(r.description),1)]),e("td",null,[$(e("select",{class:"form-select","onUpdate:modelValue":n=>r.amount=n},[(a(),l(m,null,h(10,n=>e("option",{value:n,key:n},o(n),9,Z)),64))],8,Y),[[g,r.amount]])]),e("td",null,o(r.price),1),e("td",null,o(T(r)),1)]),e("tr",null,[e("td",ee,[$(e("select",{name:"ice",class:"form-select","onUpdate:modelValue":n=>r.ice=n,onChange:n=>p(k)},[...t[0]||(t[0]=[e("option",{value:"",disabled:"",selected:""},"冰塊選項",-1),e("option",{value:"少點冰"},"少點冰",-1),e("option",{value:"去冰"},"去冰",-1)])],40,te),[[g,r.ice]]),t[2]||(t[2]=y(" | ",-1)),$(e("select",{name:"sugar",class:"form-select","onUpdate:modelValue":n=>r.sugar=n,onChange:n=>f(k)},[...t[1]||(t[1]=[e("option",{value:"",disabled:"",selected:""},"糖分選項",-1),e("option",{value:"少點糖"},"少點糖",-1),e("option",{value:"半糖"},"半糖",-1)])],40,se),[[g,r.sugar]])])])],64))),128))])]),e("div",oe,[e("h5",null,[t[4]||(t[4]=y("總計: ",-1)),e("span",null,"$"+o(b.value),1)])]),e("div",{class:"text-end"},[e("button",{class:"btn btn-primary",onClick:i},"送出")])])):(a(),l("div",ne," 尚未選取飲品 "))])]),t[5]||(t[5]=e("hr",null,null,-1)),w(W,{order:u.value},null,8,["order"])]))}};export{ae as default};
